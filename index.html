<!--
  D&D Character Forge
  Copyright (c) 2025 JosÃ© Cazorla
  https://github.com/JCazorla90/DnD-Character-Forge
  Licensed under MIT License
-->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Generador de personajes para Dungeons & Dragons 5e - Crea, personaliza y exporta fichas de personajes">
    <meta name="author" content="JosÃ© Cazorla">
    <title>D&D Character Forge - Generador de Personajes</title>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>âš”ï¸ D&D Character Forge ğŸ‰</h1>
            <p class="subtitle">Generador Ã‰pico de Personajes para Dungeons & Dragons 5e</p>
            <a href="https://github.com/JCazorla90/DnD-Character-Forge" class="github-link" target="_blank">ğŸ“– Ver en GitHub</a>
        </header>

        <div class="main-content">
            <div class="card generator-panel">
                <h2>ğŸ² Crear Personaje</h2>
                <div class="generation-mode">
                    <button id="randomBtn" class="btn btn--primary">âš¡ Generar Aleatorio</button>
                    <button id="toggleCustom" class="btn btn--secondary">âš™ï¸ Personalizar</button>
                    <button id="chaosBtn" class="btn btn--chaos">ğŸŒ€ Modo Chaos</button>
                </div>

                <div id="customPanel" class="custom-panel hidden">
                    <h3>Personalizar Personaje</h3>
                    <div class="form-group">
                        <label for="charName">Nombre del Personaje</label>
                        <input type="text" id="charName" placeholder="Ej: Thorin Escudo de Roble">
                    </div>
                    <div class="form-group">
                        <label for="raceSelect">Raza</label>
                        <select id="raceSelect"><option value="">Aleatorio</option></select>
                    </div>
                    <div class="form-group">
                        <label for="classSelect">Clase</label>
                        <select id="classSelect"><option value="">Aleatorio</option></select>
                    </div>
                    <div class="form-group">
                        <label for="backgroundSelect">Trasfondo</label>
                        <select id="backgroundSelect"><option value="">Aleatorio</option></select>
                    </div>
                    <div class="form-group">
                        <label for="alignmentSelect">Alineamiento</label>
                        <select id="alignmentSelect"><option value="">Aleatorio</option></select>
                    </div>
                    <button id="customGenerateBtn" class="btn btn--primary">Crear Personalizado</button>
                </div>
            </div>

            <div id="characterSheet" class="card character-sheet hidden">
                <div class="sheet-header">
                    <h2 id="charTitle">âš”ï¸ Personaje Generado</h2>
                    <div class="header-buttons">
                        <button id="downloadBtn" class="btn btn--success">ğŸ“„ Descargar PDF</button>
                        <button id="exportJSONBtn" class="btn btn--secondary">ğŸ’¾ Exportar JSON</button>
                        <button id="regenPortrait" class="btn btn--secondary">ğŸ”„ Nueva Imagen</button>
                    </div>
                </div>

                <div class="character-content">
                    <div class="character-visual">
                        <div class="avatar-container">
                            <svg id="charAvatar" class="character-avatar" viewBox="0 0 120 120"></svg>
                        </div>
                        <div class="portrait-container">
                            <img id="aiPortrait" class="character-portrait" alt="Retrato del personaje">
                        </div>
                    </div>

                    <div class="character-info">
                        <div class="info-section">
                            <h3>ğŸ“‹ InformaciÃ³n BÃ¡sica</h3>
                            <div class="info-grid">
                                <div class="info-item"><span class="label">Nombre:</span><span id="displayName" class="value">-</span></div>
                                <div class="info-item"><span class="label">Raza:</span><span id="displayRace" class="value">-</span></div>
                                <div class="info-item"><span class="label">Clase:</span><span id="displayClass" class="value">-</span></div>
                                <div class="info-item"><span class="label">Nivel:</span><span id="displayLevel" class="value">1</span></div>
                                <div class="info-item"><span class="label">Trasfondo:</span><span id="displayBackground" class="value">-</span></div>
                                <div class="info-item"><span class="label">Alineamiento:</span><span id="displayAlignment" class="value">-</span></div>
                            </div>
                        </div>

                        <div class="info-section">
                            <h3>âš¡ Nivel de Poder</h3>
                            <div id="powerBar" class="power-bar"></div>
                            <p id="powerLevel" class="power-level-text">-</p>
                        </div>

                        <div class="info-section">
                            <h3>ğŸ“Š CaracterÃ­sticas</h3>
                            <div class="stats-grid">
                                <div class="stat-box"><div class="stat-name">FUE</div><div class="stat-value" id="statStr">10</div><div class="stat-modifier" id="modStr">+0</div></div>
                                <div class="stat-box"><div class="stat-name">DES</div><div class="stat-value" id="statDex">10</div><div class="stat-modifier" id="modDex">+0</div></div>
                                <div class="stat-box"><div class="stat-name">CON</div><div class="stat-value" id="statCon">10</div><div class="stat-modifier" id="modCon">+0</div></div>
                                <div class="stat-box"><div class="stat-name">INT</div><div class="stat-value" id="statInt">10</div><div class="stat-modifier" id="modInt">+0</div></div>
                                <div class="stat-box"><div class="stat-name">SAB</div><div class="stat-value" id="statWis">10</div><div class="stat-modifier" id="modWis">+0</div></div>
                                <div class="stat-box"><div class="stat-name">CAR</div><div class="stat-value" id="statCha">10</div><div class="stat-modifier" id="modCha">+0</div></div>
                            </div>
                        </div>

                        <div class="info-section">
                            <h3>âš”ï¸ Combate</h3>
                            <div class="combat-grid">
                                <div class="combat-item"><span class="label">â¤ï¸ Puntos de Golpe</span><span id="displayHP" class="value big">-</span></div>
                                <div class="combat-item"><span class="label">ğŸ›¡ï¸ Clase de Armadura</span><span id="displayAC" class="value big">10</span></div>
                                <div class="combat-item"><span class="label">ğŸ‘Ÿ Velocidad</span><span id="displaySpeed" class="value">30 ft</span></div>
                                <div class="combat-item"><span class="label">âš¡ Iniciativa</span><span id="displayInit" class="value">+0</span></div>
                            </div>
                        </div>

                        <div class="info-section">
                            <h3>ğŸ¯ Salvaciones y Habilidades</h3>
                            <div class="info-grid">
                                <div class="info-item"><span class="label">Salvaciones:</span><span id="displaySavingThrows" class="value">-</span></div>
                                <div class="info-item"><span class="label">Habilidades:</span><span id="displaySkills" class="value">-</span></div>
                            </div>
                        </div>

                        <div class="info-section">
                            <h3>ğŸ‰ Rasgos Raciales</h3>
                            <ul id="racialTraits" class="traits-list"></ul>
                        </div>

                        <div class="info-section">
                            <h3>ğŸ“ Competencias de Clase</h3>
                            <ul id="classProficiencies" class="traits-list"></ul>
                        </div>

                        <div class="info-section">
                            <h3>âœ¨ CaracterÃ­sticas de Clase</h3>
                            <ul id="classFeatures" class="traits-list"></ul>
                        </div>

                        <div class="info-section">
                            <h3>ğŸ’ Equipo Inicial</h3>
                            <ul id="equipment" class="traits-list"></ul>
                        </div>

                        <div class="info-section">
                            <h3>ğŸ“œ Trasfondo: <span id="backgroundName"></span></h3>
                            <div class="info-grid">
                                <div class="info-item"><span class="label">Habilidades:</span><span id="backgroundSkills" class="value">-</span></div>
                                <div class="info-item"><span class="label">Rasgo:</span><span id="backgroundFeature" class="value">-</span></div>
                            </div>
                            <h4 style="margin-top: 15px; color: #667eea;">Equipo de trasfondo</h4>
                            <ul id="backgroundEquipment" class="traits-list"></ul>
                        </div>
                    </div>
                </div>

                <div class="actions">
                    <button id="newCharBtn" class="btn btn--primary">ğŸ² Nuevo Personaje</button>
                    <button id="importJSONBtn" class="btn btn--secondary">ğŸ“¥ Importar JSON</button>
                    <button id="historyBtn" class="btn btn--secondary">ğŸ“š Historial</button>
                    <button id="shareBtn" class="btn btn--secondary">ğŸ“¤ Compartir</button>
                </div>
            </div>
        </div>

        <div class="card bestiary-section" style="margin-top: 40px;">
            <h2>ğŸ‰ Bestiario</h2>
            <p>Genera criaturas aleatorias para tus encuentros</p>
            <div class="generation-mode">
                <button id="generateCreatureBtn" class="btn btn--primary">ğŸ² Criatura Aleatoria</button>
                <button id="generateEncounterBtn" class="btn btn--secondary">âš”ï¸ Generar Encuentro</button>
            </div>
            <div id="creatureSheet" class="creature-display hidden" style="margin-top: 20px;">
                <h3 id="creatureName">-</h3>
                <p><strong>Tipo:</strong> <span id="creatureType">-</span></p>
                <p><strong>CR:</strong> <span id="creatureCR">-</span> | <strong>XP:</strong> <span id="creatureXP">-</span></p>
                <p><strong>CA:</strong> <span id="creatureAC">-</span> | <strong>HP:</strong> <span id="creatureHP">-</span></p>
                <div id="creatureDetails" style="margin-top: 15px;"></div>
            </div>
        </div>

        <footer>
            <p>âš”ï¸ D&D Character Forge v1.0 | Creado con â¤ï¸ por <a href="https://github.com/JCazorla90">JosÃ© Cazorla</a></p>
            <p>Â© 2025 JosÃ© Cazorla | <a href="https://github.com/JCazorla90/DnD-Character-Forge/blob/main/LICENSE">MIT License</a></p>
        </footer>
    </div>

    <div id="historyModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">Ã—</span>
            <h2>ğŸ“š Historial de Personajes</h2>
            <div id="historyList"></div>
        </div>
    </div>

    <input type="file" id="fileImport" accept=".json" style="display: none;">

    <button id="toggleTheme" class="theme-toggle">ğŸŒ™ Modo Oscuro</button>

    <script src="./js/data/dnd-data.js"></script>
    <script src="./js/data/bestiary.js"></script>
    <script src="./js/core/app.js"></script>
</body>
</html>
